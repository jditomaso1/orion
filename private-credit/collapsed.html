<!-- Collapsible Sidebar -->
<aside class="group w-20 hover:w-64 transition-all duration-200 h-screen bg-white border-r shadow-sm fixed top-0 left-0 z-50 flex flex-col">

  <!-- Logo -->
  <div class="p-6 text-lg font-semibold border-b whitespace-nowrap overflow-hidden group-hover:opacity-100 opacity-0 transition">
    Orion Credit Manager
  </div>

  <!-- Navigation -->
  <nav class="flex-1 p-4 space-y-2">

    <!-- Section -->
    <div class="sidebar-section">Core</div>
    <div class="sidebar-item">ğŸ“Š <span>Dashboard</span></div>
    <div class="sidebar-item">ğŸ“„ <span>Tear Sheet</span></div>
    <div class="sidebar-item">ğŸ“ˆ <span>Deal Compare</span></div>
    <div class="sidebar-item">ğŸ“ <span>Portfolio</span></div>

    <div class="sidebar-section">Risk</div>
    <div class="sidebar-item">ğŸ“‰ <span>Ratings Drift</span></div>
    <div class="sidebar-item">ğŸ§­ <span>Monitoring</span></div>
    <div class="sidebar-item">âš–ï¸ <span>Legal</span></div>

    <div class="sidebar-section">Workflow</div>
    <div class="sidebar-item">âœ”ï¸ <span>Approvals</span></div>
    <div class="sidebar-item">ğŸ“ <span>Closing Queue</span></div>
    <div class="sidebar-item">ğŸ’¬ <span>Borrower Portal</span></div>

    <div class="sidebar-section">Data</div>
    <div class="sidebar-item">ğŸ“š <span>Data Room</span></div>

  </nav>
</aside>

<!-- Page content -->
<div class="ml-20 group-hover:ml-64 transition-all p-6">
  <!-- All content here -->
</div>

<style>
  .sidebar-item {
    display: flex;
    align-items: center;
    padding: 10px 12px;
    border-radius: 6px;
    font-size: 15px;
    cursor: pointer;
  }
  .sidebar-item span {
    margin-left: 12px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .group:hover .sidebar-item span {
    opacity: 1;
  }
  .sidebar-item:hover {
    background: #f0f0f0;
  }
  .sidebar-section {
    font-size: 10px;
    text-transform: uppercase;
    color: #999;
    margin-top: 20px;
    margin-bottom: 4px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .group:hover .sidebar-section {
    opacity: 1;
  }
</style>

    <!--Ask Orion Bot -->
    <div id="orion-chat-include"></div>
    <script>
      async function loadOrionChat() {
        const res = await fetch("/private-credit/includes/orion-chat.html");
        const html = await res.text();
    
        // Insert into DOM
        const container = document.getElementById("orion-chat-include");
        container.innerHTML = html;
    
        // --- EXECUTE SCRIPTS ---
        const scripts = container.querySelectorAll("script");
        scripts.forEach(oldScript => {
          const newScript = document.createElement("script");
          if (oldScript.src) {
            newScript.src = oldScript.src;
          } else {
            newScript.textContent = oldScript.textContent;
          }
          document.body.appendChild(newScript);
          oldScript.remove();
        });
      }
    
      loadOrionChat();
    </script>
